fun abc(str, list):
    if list.isEmpty: return true
    for i in indices(list) where s[!1] in list[i]:
        return abc(str[:!2], remove(val list, i))
    false

let test = ["A", "BARK","BOOK","TREAT","COMMON","SQUAD","CONFUSE"]
let list = ["BO","XK","DQ","CP","NA","GT","RE","TG","QD","FS",
"JW","HU","VI","AN","OB","ER","FS","LY","PC","ZM"]

for str in test:
    print "$(>8){s} | ${abc(s, list)}"
